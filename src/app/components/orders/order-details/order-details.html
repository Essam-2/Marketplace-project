<section class="order-details">
  <div class="details-header">
    <button mat-icon-button (click)="goBack()">
      <mat-icon>arrow_back</mat-icon>
    </button>
  </div>

  <mat-card *ngIf="order" class="details-card">
    <mat-card-header>
      <mat-card-title>Order Information</mat-card-title>
    </mat-card-header>
    
    <mat-card-content>
      
      <div class="detail-row">
        <span class="detail-label">Order Date:</span>
        <span class="detail-value">{{ order.orderDate | date:'medium' }}</span>
      </div>
      
      <div class="detail-row">
        <span class="detail-label">Status:</span>
        <span class="detail-value status-badge" [ngClass]="{
          'status-active': order.statusText === 'Delivered' || order.statusText === 'Shipped',
          'status-pending': order.statusText === 'Pending' || order.statusText === 'Confirmed',
          'status-inactive': false
        }">{{ order.statusText }}</span>
      </div>
      
      <div class="detail-row" *ngIf="order.customer">
        <span class="detail-label">Customer:</span>
        <span class="detail-value">{{ order.customer.name }}</span>
      </div>

      <mat-divider style="margin: 20px 0;"></mat-divider>

      <h3>Order Items</h3>
      <div class="order-items">
        <div *ngFor="let item of order.items" class="item-row">
          <div class="item-info">
            <span class="item-name">{{ item.productName }}</span>
            <span class="item-details">{{ item.qty }} x ${{ item.price.toFixed(2) }}</span>
          </div>
          <div class="item-subtotal">
            ${{ (item.qty * item.price).toFixed(2) }}
          </div>
        </div>
      </div>

      <mat-divider style="margin: 20px 0;"></mat-divider>

      <div class="totals-section" *ngIf="order.totals">
        <div class="total-row">
          <span class="total-label">Total Items:</span>
          <span class="total-value">{{ order.totals.items }}</span>
        </div>
        <div class="total-row grand-total">
          <span class="total-label">Total Price:</span>
          <span class="total-value">${{ order.totals.price.toFixed(2) }}</span>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <div *ngIf="!order" class="loading">
    <p>Loading order details...</p>
  </div>
</section>
